(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[32],{J5xA:function(e,a,t){"use strict";var r=t("TqRt"),l=t("284h");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=r(t("pVnL"));t("IzEo");var d=r(t("bx4M"));t("g9YV");var s=r(t("wCAj"));t("+BJd");var o=r(t("mr32"));t("y8nQ");var i=r(t("Vl3Y"));t("2qtc");var u=r(t("kLXV"));t("14J3");var p=r(t("BMrR"));t("miYZ");var f=r(t("tsqr")),m=r(t("lwsE")),c=r(t("W8MJ")),h=r(t("a1gu")),g=r(t("Nsbk")),k=r(t("7W2i"));t("5NDa");var v,b,M,w,L,y,V,E=r(t("5rEg")),C=l(t("q1tI")),I=t("MuoO"),x=t("LLXN"),R=(r(t("CkN6")),r(t("zHco"))),S=r(t("qX+z")),U=E.default.TextArea,z=(v=(0,I.connect)(function(e){var a=e.markList,t=e.loading;return{markList:a,loading:t.models.markList}}),v((M=function(e){function a(){var e,t;(0,m.default)(this,a);for(var r=arguments.length,l=new Array(r),n=0;n<r;n++)l[n]=arguments[n];return t=(0,h.default)(this,(e=(0,g.default)(a)).call.apply(e,[this].concat(l))),t.state={InputValue:""},t.handleGetInputValue=function(e){t.setState({InputValue:e.target.value})},t.renderCharacters=function(e){if("undefined"===typeof e)return[];var a=e.substr(0,e.length-1),r=C.default.createElement(U,{defaultValue:a,className:S.default.input,onChange:t.handleGetInputValue,autoSize:{minRows:2,maxRows:6}});return r},t}return(0,k.default)(a,e),(0,c.default)(a,[{key:"render",value:function(){var e=this,a=this.props,t=a.updateModalVisible,r=a.handleUpdateModalVisible,l=(a.form,a.handleUpdate),n=a.values,d=function(){for(var a=n.markContent.substr(0,n.markContent.length-1),t=e.state.InputValue?e.state.InputValue:a,r=[],d=t.split(" "),s=0;s<d.length;s++){var o=d[s].split("/");r.push({word:o[0],location:s+1,partOfSpeech:o[1]})}for(var i=0,u=0,p=0;p<t.length;p++)" "===t.charAt(p)?i++:"/"===t.charAt(p)&&u++;if(i+1!==u)f.default.warning((0,x.formatMessage)({id:"app.label.submit.error"}));else{console.log(r);var m={originId:n.originId,words:r};l(m)}};return C.default.createElement(u.default,{width:720,bodyStyle:{padding:"32px 40px 48px"},destroyOnClose:!0,title:(0,x.formatMessage)({id:"app.markList.form.modify.title"}),visible:t,onCancel:function(){return r()},onOk:d},C.default.createElement(p.default,null,this.renderCharacters(n.markContent)))}}]),a}(C.PureComponent),b=M))||b),A=(w=(0,I.connect)(function(e){var a=e.markList,t=e.loading;return{markList:a,loading:t.models.markList}}),L=i.default.create(),w(y=L((V=function(e){function a(){var e,t;(0,m.default)(this,a);for(var r=arguments.length,l=new Array(r),n=0;n<r;n++)l[n]=arguments[n];return t=(0,h.default)(this,(e=(0,g.default)(a)).call.apply(e,[this].concat(l))),t.state={modalVisible:!1,updateModalVisible:!1,expandForm:!1,selectedRows:[],formValues:{},stepFormValues:{}},t.columns=[{title:(0,x.formatMessage)({id:"app.markList.form.sentence"}),dataIndex:"sentence",render:function(e,a){return C.default.createElement("div",{style:{wordWrap:"break-word",wordBreak:"break-word"}},e)}},{title:(0,x.formatMessage)({id:"app.markList.form.systemLabel"}),dataIndex:"systemLabel",render:function(e,a){return C.default.createElement("div",{style:{wordWrap:"break-word",wordBreak:"break-word"}},e)}},{title:(0,x.formatMessage)({id:"app.markList.form.language"}),dataIndex:"language"},{title:(0,x.formatMessage)({id:"app.markList.form.source"}),dataIndex:"source",width:"12%"},{title:(0,x.formatMessage)({id:"app.markList.form.status"}),dataIndex:"status",render:function(e){return t.status[e]}}],t.status=[C.default.createElement(o.default,{color:"lime"},(0,x.formatMessage)({id:"app.markList.status.unlabelled"})),C.default.createElement(o.default,{color:"blue"},(0,x.formatMessage)({id:"app.markList.status.labelledOnce"})),C.default.createElement(o.default,{color:"red"},(0,x.formatMessage)({id:"app.markList.status.failed"})),C.default.createElement(o.default,{color:"blue"},(0,x.formatMessage)({id:"app.markList.status.three"})),,C.default.createElement(o.default,{color:"green"},(0,x.formatMessage)({id:"app.markList.status.success"})),C.default.createElement(o.default,{color:"green"},(0,x.formatMessage)({id:"app.markList.status.finish"})),,,,C.default.createElement(o.default,{color:"red"},(0,x.formatMessage)({id:"app.markList.status.notCross"}))],t.handleStandardTableChange=function(e,a,r){var l=t.props.dispatch;console.log(e);var n={pageNum:e.current,pageSize:e.pageSize};l({type:"markList/getList",payload:n})},t.handleModalVisible=function(e){t.setState({modalVisible:!!e})},t.handleUpdateModalVisible=function(e,a){t.setState({updateModalVisible:!!e,stepFormValues:a||{}})},t.handleFetch=function(){var e=t.props.dispatch;e({type:"markList/getList",payload:{}})},t.handleUpdate=function(e){console.log(e);var a=t.props.dispatch;a({type:"markList/update",payload:e}),f.default.success((0,x.formatMessage)({id:"app.form.operation.deploy.success"})),t.handleUpdateModalVisible()},t.handleCover=function(e){var a={originId:e.originId};console.log(a);var r=t.props.dispatch;r({type:"markList/cover",payload:a}),f.default.success((0,x.formatMessage)({id:"app.form.operation.delete.success"})),t.handleReloadData()},t.handleReloadData=function(){t.timer&&clearTimeout(t.timer),t.timer=setTimeout(function(){t.handleFetch()},1e3)},t.expandedRowRender=function(e){var a=e.labelResults,r=[{title:(0,x.formatMessage)({id:"app.markList.form.markContent"}),dataIndex:"markContent",key:"markContent",width:"50%",render:function(e,a){return C.default.createElement("div",{style:{wordWrap:"break-word",wordBreak:"break-word"}},e)}},{title:(0,x.formatMessage)({id:"app.markList.form.username"}),dataIndex:"username",key:"username"},{title:(0,x.formatMessage)({id:"app.markList.form.markDate"}),dataIndex:"markDate",key:"markDate"},{title:(0,x.formatMessage)({id:"app.form.operation"}),key:"operation",render:function(e){return C.default.createElement("div",null,C.default.createElement("a",{onClick:function(){return t.handleUpdateModalVisible(!0,e)}},(0,x.formatMessage)({id:"app.markList.form.modify"})))}}];return C.default.createElement(s.default,{columns:r,dataSource:a,rowKey:"markDate",pagination:!1})},t}return(0,k.default)(a,e),(0,c.default)(a,[{key:"componentDidMount",value:function(){this.handleFetch()}},{key:"render",value:function(){var e=this.props,a=e.markList.list,t=e.loading,r=[],l=[];null!=a.result&&(r=a.result.records,l={current:a.result.current,pageSize:a.result.size,total:a.result.total});var o=this.state,i=(o.selectedRows,o.modalVisible,o.updateModalVisible),u=o.stepFormValues,p=(this.handleAdd,this.handleModalVisible,{handleUpdateModalVisible:this.handleUpdateModalVisible,handleUpdate:this.handleUpdate});return C.default.createElement(R.default,{title:(0,x.formatMessage)({id:"app.markList"})},C.default.createElement(d.default,{bordered:!1},C.default.createElement("div",{className:S.default.tableList,style:{width:"100%"}},C.default.createElement(s.default,{columns:this.columns,expandedRowRender:this.expandedRowRender,loading:t,dataSource:r,rowKey:"id",onChange:this.handleStandardTableChange,pagination:l}))),C.default.createElement(z,(0,n.default)({},p,{updateModalVisible:i,values:u})))}}]),a}(C.PureComponent),y=V))||y)||y),D=A;a.default=D}}]);