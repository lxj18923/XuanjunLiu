(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{"9hKS":function(e,t,a){"use strict";var n=a("TqRt"),l=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("14J3");var o=n(a("BMrR"));a("+L6B");var r=n(a("2/Rp"));a("miYZ");var d=n(a("tsqr")),m=n(a("lwsE")),u=n(a("W8MJ")),s=n(a("a1gu")),i=n(a("Nsbk")),c=n(a("7W2i"));a("y8nQ");var f=n(a("Vl3Y"));a("5NDa");var p,g,h,v,y=n(a("5rEg")),E=a("MuoO"),b=l(a("q1tI")),w=a("LLXN"),M=y.default.TextArea,I=(p=(0,E.connect)(function(e){var t=e.comment,a=e.loading;return{comment:t,loading:a.models.comment}}),g=f.default.create(),p(h=g((v=function(e){function t(){var e,a;(0,m.default)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return a=(0,s.default)(this,(e=(0,i.default)(t)).call.apply(e,[this].concat(l))),a.handleSubmit=function(e){var t=a.props,n=t.dispatch,l=t.actionFunction;e.preventDefault(),a.props.form.validateFields(function(e,t){e||(n({type:"comment/submitComment",payload:t}),d.default.success((0,w.formatMessage)({id:"app.comment.addMessage.success"})),l())})},a}return(0,c.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return b.default.createElement(o.default,null,b.default.createElement("div",null,b.default.createElement(f.default.Item,{style:{marginBottom:"0"}},e("parentId",{initialValue:this.props.commentId})(b.default.createElement(y.default,{hidden:!0}))),b.default.createElement(f.default.Item,{style:{marginBottom:"0"}},e("originId",{initialValue:this.props.originId})(b.default.createElement(y.default,{hidden:!0}))),b.default.createElement(f.default.Item,{style:{marginBottom:"0"}},e("content",{})(b.default.createElement(M,{rows:4}))),b.default.createElement(f.default.Item,null,b.default.createElement(r.default,{htmlType:"submit",type:"primary",onClick:this.handleSubmit},(0,w.formatMessage)({id:"app.comment.addMessage"})))))}}]),t}(b.PureComponent),h=v))||h)||h),V=I;t.default=V},WZvm:function(e,t,a){e.exports={Simple:"antd-pro\\pages\\-management\\comment\\comment-Simple",tag:"antd-pro\\pages\\-management\\comment\\comment-tag",undraggable:"antd-pro\\pages\\-management\\comment\\comment-undraggable",CrossArea:"antd-pro\\pages\\-management\\comment\\comment-CrossArea",square:"antd-pro\\pages\\-management\\comment\\comment-square",left:"antd-pro\\pages\\-management\\comment\\comment-left",right:"antd-pro\\pages\\-management\\comment\\comment-right",delete:"antd-pro\\pages\\-management\\comment\\comment-delete"}},YUhr:function(e,t,a){"use strict";var n=a("TqRt"),l=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var o=n(a("bx4M"));a("g9YV");var r=n(a("wCAj"));a("bbsP");var d=n(a("/wGt"));a("i5XK");var m=n(a("jq9l"));a("jCWc");var u=n(a("kPKH"));a("14J3");var s=n(a("BMrR"));a("miYZ");var i=n(a("tsqr"));a("+L6B");var c=n(a("2/Rp")),f=n(a("lwsE")),p=n(a("W8MJ")),g=n(a("a1gu")),h=n(a("Nsbk")),v=n(a("7W2i"));a("OaEy");var y=n(a("2fM7"));a("y8nQ");var E,b,w,M,I=n(a("Vl3Y")),V=l(a("q1tI")),S=a("MuoO"),k=a("LLXN"),C=n(a("zHco")),D=n(a("WZvm")),R=(n(a("wd/R")),n(a("9hKS"))),F=(n(a("CkN6")),I.default.Item,y.default.Option,E=(0,S.connect)(function(e){var t=e.comment,a=e.loading;return{comment:t,loading:a.models.comment}}),b=I.default.create(),E(w=b((M=function(e){function t(){var e,a;(0,f.default)(this,t);for(var n=arguments.length,l=new Array(n),o=0;o<n;o++)l[o]=arguments[o];return a=(0,g.default)(this,(e=(0,h.default)(t)).call.apply(e,[this].concat(l))),a.state={modalVisible:!1,updateModalVisible:!1,expandForm:!1,selectedRows:[],formValues:{},stepFormValues:{},drawerVisible:!1,commendInfo:{}},a.columns=[{title:(0,k.formatMessage)({id:"app.comment.form.content"}),dataIndex:"content"},{title:(0,k.formatMessage)({id:"app.comment.form.username"}),dataIndex:"username"},{title:(0,k.formatMessage)({id:"app.comment.form.postDate"}),dataIndex:"postDate"},{title:(0,k.formatMessage)({id:"app.form.operation"}),key:"x",render:function(e){return V.default.createElement(c.default,{onClick:function(){a.onShowDrawer(e)}},(0,k.formatMessage)({id:"app.comment.form.operation.read"}))}}],a.handleModalVisible=function(e){a.setState({modalVisible:!!e})},a.handleUpdateModalVisible=function(e,t){a.setState({updateModalVisible:!!e,stepFormValues:t||{}})},a.handleFetch=function(){var e=a.props.dispatch;e({type:"comment/getList",payload:{}})},a.handleUpdate=function(e){console.log(e);var t=a.props.dispatch;t({type:"comment/update",payload:e}),i.default.success("\u914d\u7f6e\u6210\u529f"),a.handleUpdateModalVisible()},a.onShowDrawer=function(e){a.setState({drawerVisible:!0,commendInfo:e})},a.onDrawerClose=function(){a.setState({drawerVisible:!1})},a.renderDrawer=function(){var e=a.state.commendInfo,t="undefined"!==typeof e.labelResults&&null!=e.labelResults?e.labelResults:[],n="undefined"!==typeof e.comments||null!=e.comments?e.comments:[];return V.default.createElement(d.default,{width:720,title:(0,k.formatMessage)({id:"app.comment.modal.detailMessage"}),placement:"right",closable:!1,onClose:a.onDrawerClose,visible:a.state.drawerVisible},V.default.createElement(s.default,{type:"flex"},V.default.createElement("p",null,e.content)),V.default.createElement(s.default,null,V.default.createElement("h3",{style:{color:"#ff2d51",display:0===t.length?"none":""}},(0,k.formatMessage)({id:"app.comment.modal.detailMark"})),V.default.createElement("div",null,t.map(function(e){return V.default.createElement(u.default,{key:e.username,span:6,style:{marginLeft:10}},V.default.createElement("h3",null,e.username),V.default.createElement("p",null,e.markContent),V.default.createElement("p",null,e.markDate))}))),V.default.createElement(s.default,null,V.default.createElement("h3",{style:{color:"#ff2d51",display:0===n.length?"none":""}},(0,k.formatMessage)({id:"app.comment.modal.allReply"})),V.default.createElement("div",null,n.map(function(e){return V.default.createElement(m.default,{key:e.id,author:V.default.createElement("a",null,e.username),content:V.default.createElement("p",null,e.content),datetime:V.default.createElement("span",null,e.postDate)})}))),V.default.createElement("h3",{style:{color:"#ff2d51"}},(0,k.formatMessage)({id:"app.comment.modal.reply"})),V.default.createElement(R.default,{actionFunction:function(){setTimeout(function(){window.location.reload()},1e3)},commentId:e.id}))},a.handleStandardTableChange=function(e,t,n){var l=a.props.dispatch;console.log(e);var o={pageNum:e.current,pageSize:e.pageSize};l({type:"comment/getList",payload:o})},a}return(0,v.default)(t,e),(0,p.default)(t,[{key:"componentDidMount",value:function(){this.handleFetch()}},{key:"render",value:function(){var e=this.props,t=e.comment.list,a=e.loading,n=[],l=[];return null!=t.result&&(n=t.result.records,l={current:t.result.current,pageSize:t.result.size,total:t.result.total}),V.default.createElement(C.default,{title:(0,k.formatMessage)({id:"app.comment"})},V.default.createElement(o.default,{bordered:!1},V.default.createElement("div",{className:D.default.tableList},V.default.createElement(r.default,{loading:a,dataSource:n,pagination:l,columns:this.columns,rowKey:"id",onChange:this.handleStandardTableChange}))),V.default.createElement(o.default,{bordered:!1,style:{marginTop:10}},V.default.createElement("h3",{style:{color:"#ff2d51"}},(0,k.formatMessage)({id:"app.comment.message"})),V.default.createElement(R.default,{actionFunction:function(){setTimeout(function(){window.location.reload()},1e3)}})),this.renderDrawer())}}]),t}(V.PureComponent),w=M))||w)||w),L=F;t.default=L}}]);