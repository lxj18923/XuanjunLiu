(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[31],{qpIp:function(e,t,a){"use strict";var l=a("TqRt"),r=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var s=l(a("bx4M"));a("5Dmo");var n=l(a("3S7+"));a("14J3");var u=l(a("BMrR"));a("jCWc");var d=l(a("kPKH"));a("Pwec");var i=l(a("CtXQ"));a("+L6B");var p=l(a("2/Rp"));a("miYZ");var f=l(a("tsqr")),c=l(a("lwsE")),o=l(a("W8MJ")),m=l(a("a1gu")),h=l(a("Nsbk")),g=l(a("PJYZ")),b=l(a("7W2i"));a("y8nQ");var y=l(a("Vl3Y"));a("5NDa");var v,E,k,S,x=l(a("5rEg")),M=r(a("q1tI")),w=a("LLXN"),C=a("MuoO"),R=l(a("qX+z")),I=x.default.TextArea,N=x.default.Search,O=(v=(0,C.connect)(function(e){var t=e.label,a=e.loading;return{label:t,submitting:a.effects["label/label"]}}),E=y.default.create(),v(k=E((S=function(e){function t(){var e,a;(0,c.default)(this,t);for(var l=arguments.length,r=new Array(l),s=0;s<l;s++)r[s]=arguments[s];return a=(0,m.default)(this,(e=(0,h.default)(t)).call.apply(e,[this].concat(r))),a.state={btnStatus:!1,InputValue:"",isClick:!0,check:!0},a.handleGetInputValue=function(e){a.setState({InputValue:e.target.value})},a.handleSkip=function(){var e=a.props.dispatch;e({type:"label/skip",payload:{}})},a.handleDelete=function(){var e=a.props.dispatch;e({type:"label/deleteSentence"}),f.default.success((0,w.formatMessage)({id:"app.form.operation.delete.success"}))},a.handleSearch=function(e){var t=a.props.dispatch;t({type:"label/searchResult",payload:e}),setTimeout(function(){0===a.props.label.searchResult.length&&f.default.error((0,w.formatMessage)({id:"app.label.search.error"}))},500)},a.handlePost=function(e,t){var l=a.state.isClick;if(l){a.setState({btnStatus:!0}),a.setState({isClick:!1});for(var r=a.state.InputValue?a.state.InputValue:e,s=[],n=r.split(" "),u=0;u<n.length;u++){var d=n[u].split("/");s.push({word:d[0],location:u+1,partOfSpeech:d[1]})}for(var i=s.some(function(e){if(""===e.partOfSpeech||""===e.word)return!0}),p=0,c=0,o=0;o<r.length;o++)" "===r.charAt(o)?p++:"/"===r.charAt(o)&&c++;if(p+1!==c||!0===i)f.default.warning((0,w.formatMessage)({id:"app.label.submit.error"})),a.setState({btnStatus:!1});else{var m={originId:t,words:s},h=a.props.dispatch;h({type:"label/saveResult",payload:m}),f.default.success((0,w.formatMessage)({id:"app.label.submit.success"}))}var b=(0,g.default)(a);setTimeout(function(){b.setState({isClick:!0})},3e3)}},a}return(0,b.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"label/getOriginByRandom"}),e({type:"label/getUserResults"})}},{key:"render",value:function(){var e,t,a,l=this,r=this.props.label,f=r.origin,c=r.labelResults,o=r.searchResult;null!=f.result&&(e=f.result.sentence,t=f.result.systemLabel,a=f.result.id);var m="]/nt",h=void 0!==t?t.indexOf(m):"";return M.default.createElement("div",null,M.default.createElement(s.default,{className:R.default.card},M.default.createElement(p.default,{style:{float:"right"},type:"default"},M.default.createElement("a",{href:"./selectLabel"},"\u9009\u62e9\u6807\u6ce8")),M.default.createElement("p",{className:R.default.sentence},M.default.createElement(i.default,{type:"profile",theme:"twoTone",className:R.default.icon}),e),M.default.createElement("p",null,M.default.createElement(i.default,{type:"bulb",theme:"twoTone",className:R.default.icon}),(0,w.formatMessage)({id:"app.label.systemLabel"}),t),h>0&&null!=h?M.default.createElement("p",{style:{fontSize:"14px",color:"red"}},(0,w.formatMessage)({id:"app.label.tip"})):"",M.default.createElement(u.default,{gutter:{md:8,lg:24,xl:48}},M.default.createElement(d.default,{md:21,sm:24},M.default.createElement(I,{key:a,defaultValue:t,className:R.default.input,onChange:this.handleGetInputValue,rows:4}))),M.default.createElement(u.default,{style:{margin:"1% 0 2%"}},M.default.createElement(n.default,{placement:"bottom",title:(0,w.formatMessage)({id:"app.label.submit.tip"})},M.default.createElement(p.default,{type:"primary",style:{float:"right"},size:"large",disabled:this.state.btnStatus,onClick:function(){l.handlePost(t,a)}},(0,w.formatMessage)({id:"app.label.submit"})))),M.default.createElement(p.default,{style:{margin:"20px 0 0"},type:"default",onClick:this.handleSkip},(0,w.formatMessage)({id:"app.label.skip"})),0===c.length?M.default.createElement(n.default,{placement:"right",title:(0,w.formatMessage)({id:"app.label.delete.tip"})},M.default.createElement(p.default,{style:{margin:"20px 0 0 50px",color:"red",border:"1px solid red"},type:"default",onClick:this.handleDelete},(0,w.formatMessage)({id:"app.label.delete"}))):""),M.default.createElement(s.default,{className:R.default.card},M.default.createElement(u.default,{style:{margin:"10px 0 20px 0"}},M.default.createElement("div",{style:{fontWeight:"600",fontSize:"22px",lineHeight:"44px"}},(0,w.formatMessage)({id:"app.label.dictionary"})),M.default.createElement(d.default,{span:8},M.default.createElement(N,{placeholder:(0,w.formatMessage)({id:"app.label.search.placeholder"}),enterButton:!0,size:"large",onSearch:this.handleSearch,style:{padding:"10px 30px 10px 10px"}})),""!==o?M.default.createElement("div",null,o.map(function(e,t){var a=e.partOfSpeech,l=e.count;return M.default.createElement(d.default,{key:t,span:8},M.default.createElement("div",{key:t,style:{border:"1px solid #1890ff",fontSize:"17px",lineHeight:"34px",margin:"10px",padding:"5px"}},(0,w.formatMessage)({id:"app.label.search.partOfSpeech"}),a,M.default.createElement("br",null),(0,w.formatMessage)({id:"app.label.search.count"}),l))})):""),M.default.createElement(u.default,{gutter:{md:8,lg:24,xl:48},key:a},c.map(function(e,t){var a=e.markContent,l=e.userId;console.log();var r="".concat((0,w.formatMessage)({id:"app.label.userResult.left"})," ").concat(t+1," ").concat((0,w.formatMessage)({id:"app.label.userResult.right"}));return M.default.createElement(d.default,{md:24,sm:24,key:l},M.default.createElement(s.default,{title:r,className:R.default.markCard},a))}))))}}]),t}(M.Component),k=S))||k)||k),V=O;t.default=V}}]);