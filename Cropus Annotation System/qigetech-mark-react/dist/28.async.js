(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[28],{eR7R:function(t,e,a){"use strict";var s=a("TqRt"),l=a("284h");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("g9YV");var n=s(a("wCAj"));a("IzEo");var i=s(a("bx4M"));a("14J3");var r=s(a("BMrR"));a("5Dmo");var o=s(a("3S7+"));a("Pwec");var c,u,d,f=s(a("CtXQ")),p=s(a("lwsE")),m=s(a("W8MJ")),g=s(a("a1gu")),h=s(a("Nsbk")),x=s(a("7W2i")),y=l(a("q1tI")),E=a("LLXN"),v=a("yP6+"),M=s(a("wd/R")),w=a("MuoO"),k=(c=(0,w.connect)(function(t){var e=t.statistics,a=t.loading;return{statistics:e,loading:a.models.statistics}}),c((d=function(t){function e(){var t,a;(0,p.default)(this,e);for(var s=arguments.length,l=new Array(s),n=0;n<s;n++)l[n]=arguments[n];return a=(0,g.default)(this,(t=(0,h.default)(e)).call.apply(t,[this].concat(l))),a.state={selectedRows:[]},a.handlePageChange=function(t){var e=a.props.dispatch,s={current:t.current,size:t.pageSize};e({type:"statistics/fetchUserList",payload:s})},a.handleSelectRows=function(t){a.setState({selectedRows:t})},a.columns=[{title:(0,E.formatMessage)({id:"app.statistics.form.userId"}),dataIndex:"userId"},{title:(0,E.formatMessage)({id:"app.statistics.form.userName"}),dataIndex:"username"},{title:(0,E.formatMessage)({id:"app.statistics.form.lastMarkdate"}),dataIndex:"lastMarkdate"},{title:(0,E.formatMessage)({id:"app.statistics.form.countDaily"}),dataIndex:"countDaily",align:"center"},{title:(0,E.formatMessage)({id:"app.statistics.form.countWeek"}),dataIndex:"countWeek",align:"center"},{title:(0,E.formatMessage)({id:"app.statistics.form.countTotal"}),dataIndex:"countTotal",align:"center"}],a}return(0,x.default)(e,t),(0,m.default)(e,[{key:"componentDidMount",value:function(){var t=this.props.dispatch;t({type:"statistics/fetchWeekStatistics"}),t({type:"statistics/fetchUserList",payload:{}})}},{key:"render",value:function(){var t=this.props,e=t.statistics,a=e.week,s=e.list,l=t.loading,c=void 0!==a.result?a.result:[],u={countDate:{formatter:function(t){return t=(0,M.default)(t).format("YYYY-MM-DD"),t}},amount:{range:[0,1]}},d=(this.state.selectedRows,[]),p=[];return null!=s.result&&(d=s.result.records,p={current:s.result.current,pageSize:s.result.size,total:s.result.total}),y.default.createElement(y.Fragment,null,0!==c.length?y.default.createElement(i.default,{style:{marginBottom:"20px"}},y.default.createElement("span",{style:{fontSize:"23px",fontWeight:"600",margin:"20px 5px"}},y.default.createElement(E.FormattedMessage,{id:"app.statistics.overall"})),y.default.createElement(o.default,{placement:"leftBottom",title:(0,E.formatMessage)({id:"app.statistics.overall.tip"})},y.default.createElement(f.default,{type:"question-circle",style:{fontSize:"20px",marginRight:"20px",color:"#333",float:"right"}})),y.default.createElement(r.default,{span:24,style:{margin:"40px 100px 0px"}},y.default.createElement(v.Chart,{height:400,data:c,scale:u,forceFit:!0},y.default.createElement(v.Axis,{name:"countDate"}),y.default.createElement(v.Axis,{name:"amount"}),y.default.createElement(v.Geom,{type:"line",position:"countDate*amount",size:2}),y.default.createElement(v.Geom,{type:"point",position:"countDate*amount",size:4,shape:"circle",style:{stroke:"#fff",lineWidth:1}},y.default.createElement(v.Label,{content:"amount"}))))):"",y.default.createElement(i.default,{bordered:!1},y.default.createElement("span",{style:{fontSize:"23px",fontWeight:"600",margin:"0px 0px 20px 5px"}},y.default.createElement(E.FormattedMessage,{id:"app.statistics.users"})),y.default.createElement(o.default,{placement:"leftBottom",title:(0,E.formatMessage)({id:"app.statistics.users.tip"})},y.default.createElement(f.default,{type:"question-circle",style:{fontSize:"20px",marginRight:"20px",color:"#333",float:"right"}})),y.default.createElement("div",{style:{margin:"30px 50px"}},y.default.createElement(n.default,{columns:this.columns,loading:l,onChange:this.handlePageChange,dataSource:d,pagination:p,rowKey:"userId"}))))}}]),e}(y.Component),u=d))||u),z=k;e.default=z}}]);